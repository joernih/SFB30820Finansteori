dplyr::mutate(wvar=dev^2*prob)
df_eks_2_1_w
sum(df_eks_2_1_w$ev)
sum(df_eks_2_1_w$wvar)
sqrt(sum(df_eks_2_1_w$wvar))
xaringan::inf_mr("presentations.Rmd")
xaringan::inf_mr("dagens.Rmd")
xaringan::inf_mr("dagens.Rmd")
xaringan::inf_mr("presentations.Rmd")
xaringan::inf_mr("presentations.Rmd")
# Data input
df_eks_2_1 <- data.frame(tilstand=c(1,2,3),
prob=c(0.2,0.5,0.3),
avk_a=c(0.16,0.12,0.06),
avk_b=c(0.05,0.20,0.40)
)
df_eks_2_1
htmlTable(df_eks_2_1)
?htmlTable
htmlTable(df_eks_2_1)
htmlTable(df_eks_2_1, header=c(1,2,3,4))
htmlTable(df_eks_2_1, header=c("Tilstand","Sansynlighet",3,4))
htmlTable(df_eks_2_1, header=c("Tilstand","Sansynlighet","A","B"))
# Portefølje: 1-2
w <- c(0.5,0.5)
## Metode 1
df_eks_2_1_w <- df_eks_2_1 %>%
dplyr::mutate(wa=w[1],wb=w[2]) %>%
dplyr::mutate(avk_c=avk_a*wa+avk_b*wb) %>%
dplyr::mutate(ev=prob*avk_c) %>%
dplyr::mutate(dev=avk_c-weighted.mean(avk_c, prob)) %>%
dplyr::mutate(wvar=dev^2*prob)
sum(df_eks_2_1_w$ev)
sum(df_eks_2_1_w$wvar)
sqrt(sum(df_eks_2_1_w$wvar))
htmlTable(df_eks_2_1_w)
# Portefølje: 1-2
w <- c(0.25,0.75)
## Metode 1
df_eks_2_1_w <- df_eks_2_1 %>%
dplyr::mutate(wa=w[1],wb=w[2]) %>%
dplyr::mutate(avk_c=avk_a*wa+avk_b*wb) %>%
dplyr::mutate(ev=prob*avk_c) %>%
dplyr::mutate(dev=avk_c-weighted.mean(avk_c, prob)) %>%
dplyr::mutate(wvar=dev^2*prob)
htmlTable(df_eks_2_1_w)
htmlTable(df_eks_2_1_w, header=c(1,1,1,1,1))
htmlTable(df_eks_2_1_w, header=c(1,1,1,1,1,1,1,1,1,1))
htmlTable(df_eks_2_1_w, header=c("?",1,1,1,1,1,1,1,1,1))
install.packages("devtools")
# install.packages("devtools")
devtools::install_github("gadenbuie/xaringanExtra")
devtools::install_github("gadenbuie/xaringanExtra")
install.packages("devtools")
devtools::install_github("gadenbuie/xaringanExtra")
install.packages("devtools")
devtools::install_github("gadenbuie/xaringanExtra")
2+2
xaringan::inf_mr("presentations.Rmd")
xaringan::inf_mr("presentations.Rmd")
xaringan::inf_mr("presentations.Rmd")
remotes::install_github('yihui/xaringan')
install.packages("gridExtra")
xaringan::inf_mr("presentations.Rmd")
rn <- cor(df_eks_2_1[,3],df_eks_2_1[,4])
install.packages("purrr")
xaringan::inf_mr("dagens.Rmd")
xaringan::inf_mr("presentations.Rmd")
xaringan::inf_mr("presentations.Rmd")
xaringan::inf_mr("dagens.Rmd")
xaringan::inf_mr("presentations.Rmd")
xaringan::inf_mr("presentations.Rmd")
xaringan::inf_mr("presentations.Rmd")
servr::daemon_stop(2)
servr::daemon_stop(1)
xaringan::inf_mr("presentations.Rmd")
xaringan::inf_mr("presentations.Rmd")
xaringan::inf_mr("dagens.Rmd")
xaringan::inf_mr("presentations.Rmd")
#! doublecheck
l1 <- (0.30)^2*0.10^2+(0.40)^2*0.20^2+(0.3)^2*0.40^2
l2 <- 2*0.30*0.40*0.10*0.20*0.80+2*0.30*0.30*0.10*0.40*0.50 -2*0.30*0.40*0.20*0.40*0.10
l1+l2
sqrt(l1+l2)
1/173
N <- 1:10
varo <- 0.21
kovo <- 0.0229
tportvar <- '(1/N)*varo + (1-1/N)*kovo'
N <- 1:10
df_n <- data.frame(N=N,varp=eval(parse(text=tportvar),c(varo=varo,kovo=kovo,list(N=N))))
ggplot2::ggplot(df_n, aes(x=N,y=varp)) + geom_line()
N <- 1:112
df_n <- data.frame(N=N,varp=eval(parse(text=tportvar),c(varo=varo,kovo=kovo,list(N=N))))
ggplot2::ggplot(df_n, aes(x=N,y=varp)) + geom_line()
xaringan::inf_mr("dagens.Rmd")
xaringan::inf_mr("dagens.Rmd")
xaringan::inf_mr("dagens.Rmd")
require("magrittr")
file_name <- rstudioapi::getSourceEditorContext()[["path"]]
doc <- toc <- readLines(file_name)
tocc <- character()
for (i in 1:length(toc)) {
if(substr(toc[i][1], 1, 2) == "# ") {
toc[i] <- gsub("# ", "", toc[i], fixed = TRUE) %>%
gsub("#", "", ., fixed = TRUE)
tocc <- append(tocc, toc[i])
}
}
tocc <- paste("- ", tocc[-1])
row_outline <- which(doc == "# Outline")
install.packages("magrittr")
row_body <- which(doc == "---")
row_body <- row_body[which(row_body > row_outline)][1]
doc <- c(doc[1:row_outline], "\n", tocc, "\n", doc[(row_body):length(doc)])
require("magrittr")
file_name <- rstudioapi::getSourceEditorContext()[["path"]]
library("magrittr")
library("magrittr")
toc <- readLines("presentation.Rmd")
tocc <- character()
toc <- readLines("dagens.Rmd")
tocc <- character()
toc <- readLines("dagens.Rmd")
toc
tocc <- character()
for (i in 1:length(toc)) {
if(substr(toc[i][1], 1, 2) == "# ") {
toc[i] <- gsub("# ", "", toc[i], fixed = TRUE) %>%
gsub("#", "", ., fixed = TRUE) %>%
paste0("     ", .)
tocc <- append(tocc, toc[i])
}
}
text <- paste(tocc[-1], "\n")[c(-1)]
yy <- seq(.9, 0, length = length(text))
```{r echo=FALSE}
plot(x = rep(0.2, length(text)), y = yy * 1.035,
xlim = c(0, 1), ylim = c(-0.1, 1), xlab = "", ylab = "", axes = FALSE,
col = "#056EA7", type = "p", pch = 16)
text(x = 0.2, y = yy, labels = text, adj = 0, col = "black")
plot(x = rep(0.2, length(text)), y = yy * 1.035,
xlim = c(0, 1), ylim = c(-0.1, 1), xlab = "", ylab = "", axes = FALSE,
col = "#056EA7", type = "p", pch = 16)
text(x = 0.2, y = yy, labels = text, adj = 0, col = "black")
library("magrittr")
toc <- readLines("dagens.Rmd")
tocc <- character()
for (i in 1:length(toc)) {
if(substr(toc[i][1], 1, 2) == "# ") {
toc[i] <- gsub("# ", "", toc[i], fixed = TRUE) %>%
gsub("#", "", ., fixed = TRUE) %>%
paste0("     ", .)
tocc <- append(tocc, toc[i])
}
}
text <- paste(tocc[-1], "\n")[c(-1)]
yy <- seq(.9, 0, length = length(text))
yy
plot(x = rep(0.2, length(text)), y = yy * 1.035,
xlim = c(0, 1), ylim = c(-0.1, 1), xlab = "", ylab = "", axes = FALSE,
col = "#056EA7", type = "p", pch = 16)
text(x = 0.2, y = yy, labels = text, adj = 0, col = "black")
plot(x = rep(0.2, length(text)), y = yy * 1.035,
xlim = c(0, 1), ylim = c(-0.1, 1), xlab = "", ylab = "", axes = FALSE,
col = "#056EA7", type = "p", pch = 16)
xaringan::inf_mr("dagens.Rmd")
library("magrittr")
library(htmlTable)
library(magrittr)
library(xaringan)
# Timeplan
## Input
ukenr <- seq(33,46)
forenr <- c(seq(1,7),"",seq(8,13))
timer <- rep(3,14)
tema <- c(
"Introduksjon og overblikk",
"Relevant risiko: Porteføljeteori to objekter",
"Relevant risiko: Porteføljeteori 3-n objekter",
"Effisiens",
"Kapitalverdimodellen",
"Finansielle instrumenter for finansiering",
"Gjeld, total risiko og systematisk risiko",
"",
"Gjeldgrad og verdi i perfekte kapitalmarkeder",
"Skatt",
"Dividende",
"Opsjoner",
"Finansielle instrumenter til påvirking av kontantstrømmer",
"Repetisjon"
)
literatur <- c(
"Kap. 1: Introduksjon",
"Kap. 2: Relevant risiko",
"Kap. 2: Relevant risiko",
"Kap. 3: Relevant risiko og kapitalkostnad",
"Kap. 3: Relevant risiko og kapitalkostnad",
"Kap. 5: Langsiktige finansieringsformer",
"Kap. 6: Gjeldsgrad og risiko",
"**Høstferie**",
"Kap. 7: Gjeldsgrad og verdi i perfekte kapitalmarkeder",
"Kap. 8: Gjeldsgrad og verdi med imperfeksjoner",
"Kap. 11: Dividende",
"Kap. 12: Opsjoner",
"Kap. 13: Risikostyring",
"Kap. 1,2-4,5-8,11,12,13"
)
undervform <- c(
"Zoom",
"Zoom",
"Zoom",
"Zoom",
"Zoom/Campus",
"Zoom/Campus",
"Zoom/Campus",
"",
"?",
"?",
"?",
"?",
"?",
"?"
)
oppgaver_bok <- c(
"1.1,1.2,1.4,1.5,1.7.1.8",
"2.1,2.2,2.3,2.6",
"2.7,2.8,2.9,2.10",
"3.1,3.2,3.3",
"",
"",
"",
"",
"",
"",
"",
"",
""
)
oppgaver_nett <- c(
"N.1.1,N.1.2,N.1.3,N.1.4,",
"N.2.1,N.2.2,N.2.3,N.2.4,",
"N.2.5,N.5.6,N.2.7",
"",
"",
"",
"",
"",
"",
"",
"",
"",
""
)
## Output
df1 <- data.frame(
Uke=ukenr,
Forelesning=forenr,
Literatur=literatur,
Temaer=tema,
undervform,
Timer=timer
)
timenavn <- c("Uke","Forelesning","Literatur","Sentrale temaer","Undervisningsform","Timer")
timep <- htmlTable(df1,header=timenavn)
timep_i <- htmlTable(df1[1:7,],header=timenavn)
timep_ii <- htmlTable(df1[8:14,],header=timenavn)
timep
xaringan::inf_mr("dagens.Rmd")
radnr_i <- c("Etterspørsel A",
"Etterspørsel B",
"Samlet etterspørsel",
"Tilbud")
radnr_ii <- c("Selskap 1",
"Selskap 2",
"Selskap 3",
"")
tils1 <- c(3000,9000,9000,12000)
tils2 <- c(2000,6000,4000,0)
df_prosj_kontantstrøm <- data.frame(radnr_i,tils1,radnr_ii,tils2)
htmlTable(df_prosj_kontantstrøm, header=c("","Markedsplassen","","Verdi EK"))
radnr_i <- c("Etterspørsel A",
"Etterspørsel B",
"Samlet etterspørsel",
"Tilbud")
w1 <- c(500,1500,2000,2000)
w2 <- c(1500,4500,6000,6000)
w3 <- c(1000,3000,4000,4000)
df_prosj_kontantstrom_ver <- data.frame(radnr_i,w1,w2,w3)
htmlTable(df_prosj_kontantstrom_ver, header=c("","w_1=1/6","w_2=3/6","w_3=2/6"))
knitr::include_graphics("pensum/figurer-20.png")
radnr_i <- c(
"Frontline",
"Norsk Hydro",
"Telenor",
"DNO",
"Subsea 7")
w1 <- c(1,2,3,4,5)
df_prosj_beta_selskap <- data.frame(radnr_i,w1,w2,w3)
df_prosj_beta_selskap <- data.frame(radnr_i,w1)
htmlTable(df_prosj_beta_selskap, header=c("",""))
w1 <- c(1.69,0.92,0.71,1.53,1.43)
df_prosj_beta_selskap <- data.frame(radnr_i,w1)
htmlTable(df_prosj_beta_selskap, header=c("",""))
htmlTable(df_prosj_beta_selskap, header=c("Selskap","Beta"))
servr::daemon_stop()
xaringan::inf_mr("presentations.Rmd")
xaringan::inf_mr("dagens.Rmd")
xaringan::inf_mr("dagens.Rmd")
xaringan::inf_mr("dagens.Rmd")
rmarkdown::render("abc.Rmd")
rmarkdown::render("abc.Rmd")
rmarkdown::render("abc.Rmd")
reticulate::repl_python()
2+2
library(htmlTable)
library(reticulate)
reticulate::repl_python()
system("brave presentations.html")
ERP = Eq(Er_p,w1*rf + (1-w1)*(rm))
library(reticulate)
reticulate::repl_python()
system("brave presentations.html")
-0.5*0.04+(1+0.05)*0.2
-0.5*0.04+(1+0.05)*0.07
-0.5*0.04+(1+0.05)*0.07
-0.5*0.04+(1-(0.5))*0.07
-0.5*0.04+(1+0.5)*0.07
library(reticulate)
reticulate::repl_python()
df_eks_gen <- data.frame(tilstand=c(1,2,3),
prob=c(0.2,0.5,0.3),
avk_a=c(0.16,0.12,0.06),
avk_b=c(0.05,0.20,0.40)
)
# Et objekt
## Forventet avkasting, varians og standardavvik
ex_a <- c(df_eks_gen$avk_a%*%df_eks_gen$prob)
ex_b <- c(df_eks_gen$avk_b%*%df_eks_gen$prob)
vx_a <- c((df_eks_gen$avk_a-ex_a)^2%*%df_eks_gen$prob)
vx_b <- c((df_eks_gen$avk_b-ex_b)^2%*%df_eks_gen$prob)
# Flere objekter
## Forventet avkasting, kovarians, standardavvik og korr
w <- c(1/2,1/2)
port_returns <- (sum(w *c(ex_a,ex_b)))
cov_mat <- cov.wt(df_eks_gen[,c(3,4)], wt =df_eks_gen[,c(2)], cor = T)$cov
#port_risk_v <- t(w) %*% (cov_mat %*% w)
#port_risk_s <- sqrt(t(w) %*% (cov_mat %*% w))
htmlTable::htmlTable(df_eks_gen, header=c("Tilstand ","Sannsynlighet ","Avkastning A ","Avkastning B "))
df_eks_gen <- data.frame(tilstand=c(1,2,3),
prob=c(0.5,0.20,0.30),
avk_a=c(-0.10,0.50,0.10),
avk_b=c(-0.20,0.60,0.10)
)
# Et objekt
## Forventet avkasting, varians og standardavvik
ex_a <- c(df_eks_gen$avk_a%*%df_eks_gen$prob)
ex_b <- c(df_eks_gen$avk_b%*%df_eks_gen$prob)
vx_a <- c((df_eks_gen$avk_a-ex_a)^2%*%df_eks_gen$prob)
vx_b <- c((df_eks_gen$avk_b-ex_b)^2%*%df_eks_gen$prob)
sx_a <- vx_a^(1/2)
sx_b <- vx_b^(1/2)
# Flere objekter
## Forventet avkasting, kovarians, standardavvik og korr
w <- c(6000/10000,4000/10000)
port_returns <- (sum(w *c(ex_a,ex_b)))
cov_mat <- cov.wt(df_eks_gen[,c(3,4)], wt =df_eks_gen[,c(2)], cor = T, method='ML')$cov
port_risk_v <- t(w) %*% (cov_mat %*% w)
port_risk_s <- sqrt(t(w) %*% (cov_mat %*% w))
htmlTable::htmlTable(df_eks_gen, header=c("Tilstand","Sannsynlighet","Avkastning A","Avkastning B"))
radnr <- c("Markedsporteføljen",
"Risikofri rente")
tils1 <- c(0.07,0.04)
tils2 <- c(0.03,0.00)
df_prosj_kontantstrøm <- data.frame(radnr,tils1,tils2)
htmlTable(df_prosj_kontantstrøm, header=c("","Forventet avkastning","Standardavik"))
stats_df <- data.frame(lopetid=c(2,3),
M=c(500,500),
p=c(495,495)
)
500/(1+0.015)
P1 <-500/(1+0.015)
P2 <-500/(1+0.015)^2
P3 <-500/(1+0.015)^3
one <- 1.015
two <- (M/P2)^2
M <- stats_df
M <- stats_df
M
M <- stats_df$M
M
M[1]
two <- (M[1]/P2)^2
thr <- (M[2]/P3)^3
two/one-1
thr/two-1
htmlTable(stats_df, header=c("Løpetid ","Pålydende ","Markedspris"))
stats_df <- data.frame(lopetid=c(2,3),
M=c(500,500),
p=c(495,495)
)
500/(1+0.015)
P1 <-500/(1+0.015)
P1
P1 <-500/(1+0.015)
P1
P2 <-500/(1+0.015)^2
P2
P2 <-500/(1+0.015)^2
P2
P1
P3 <-500/(1+0.015)^3
P3
P2
one <- 1.015/1-1
one
two <- (M[1]/P2)^2
two
two <- (M[1]/P2)^2
two
thr <- (M[2]/P3)^3
thr
two/one-1
one <- 1.015/1-1
one
two <- (M[1]/P2)^2
two
one <- 1.015/1
two <- (M[1]/P2)^2
thr <- (M[2]/P3)^3
two/one-1
thr/two-1
stats_df <- data.frame(lopetid=c(2,3),
M=c(500,500),
p=c(495,495)
)
P1 <-500/(1+0.015)
P2 <-500/(1+0.015)^2
P3 <-500/(1+0.015)^3
M <- stats_df$M
one <- 1.015/1
two <- (M[1]/P2)^2
thr <- (M[2]/P3)^3
two/one-1
thr/two-1
Mv <- c(500,500,500)
P1 <-500/(1+0.015)
P2 <-500/(1+0.015)^2
P3 <-500/(1+0.015)^3
stats_df <- data.frame(lopetid=c(2,3),
M=Mv,
p=c(495,495)
)
stats_df <- data.frame(lopetid=c(2,3),
M=Mv[2:3],
p=c(495,495)
)
stats_df
stats_df <- data.frame(lopetid=c(2,3),
M=Mv[2:3],
p=c(495,495)
)
M <- stats_df$M
M
one <- 1.015/1
one
two <- (M[1]/P2)^2
thr <- (M[2]/P3)^3
two/one-1
thr/two-1
htmlTable(stats_df, header=c("Løpetid ","Pålydende ","Markedspris"))
two/one-1
thr/two-1
1_r_2 <- two/one-1
_1r_2 <- two/one-1
r_2 <- two/one-1
_r_2 <- two/one-1
1_r_2 <- two/one-1
r_1_2 <- two/one-1
r_1_2 <- two/one-1
r_2_3 <- thr/two-1
htmlTable(stats_df, header=c("Løpetid ","Pålydende ","Markedspris"))
Mv <- c(500,500,500)
P1 <-500/(1+0.015)
P2 <-500/(1+0.015)^2
P3 <-500/(1+0.015)^3
stats_df <- data.frame(lopetid=c(2,3),
M=Mv[2:3],
p=c(495,495)
)
one <- 1.015/1
two <- (M[1]/P2)^2
thr <- (M[2]/P3)^3
r_1_2 <- two/one-1
r_2_3 <- thr/two-1
htmlTable(stats_df, header=c("Løpetid ","Pålydende ","Markedspris"))
Mv <- c(500,500,500)
P1 <-500/(1+0.015)
P2 <-500/(1+0.015)^2
P3 <-500/(1+0.015)^3
stats_df <- data.frame(lopetid=c(2,3),
M=Mv[2:3],
p=c(495,495)
)
one <- 1.015/1
two <- (M[1]/P2)^2
thr <- (M[2]/P3)^3
r_1_2 <- two/one-1
r_2_3 <- thr/two-1
htmlTable(stats_df, header=c("Løpetid ","Pålydende ","Markedspris"))
rmarkdown::render("arbeidskrav2021_F.Rmd")
rmarkdown::render("arbeidskrav2021_F.Rmd")
