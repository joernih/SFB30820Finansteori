---
output:
  html_document:
  #html_notebook:
    css: PAA.css
#rnotb2 8900 $PWD arbeidskrav_losningsforslag.Rmd
---


```{r eval=FALSE, include=FALSE}
rmarkdown::render("arbeidskrav2021.Rmd")
```

# Mikroøkonomi (SFB10916), Våren 2021 
## Obligatorisk arbeidskrav 
- Leveres ut: 28.09.2021
- Leveres inn: 26.10.2021
  - HUSK: Skriv navn med kandidatnummer på innleveringen (fra 1-3 personer per besvarelse)
  - Leveres inn i egen mappe på Canvas. 

# Del I: 1-6
## Oppgave 1 
## Oppgave 2 
## Oppgave 3 
## Oppgave 4 
# Del II:

```{r}
knitr::knit_exit()
```





# Mikroøkonomi (SFB10916), Våren 2021
Versjon 1.0
# Mikroøkonomi (SFB10916), Våren 2021 
## Obligatorisk arbeidskrav

- Leveres ut: 10.03.2021
- Leveres inn: 28.03.2021
  - HUSK: Skriv navn med kandidatnummer på innleveringen (fra 1-3 personer per besvarelse)
  - Leveres inn i egen mappe på Canvas. 

# Oppgave 1 Generell forståelse
I. Er følgende påstander riktig eller gale? Begrunn svaret ditt med økonomisk teori. 

(a) Økonomi handler først og fremst om penger.
(b) Følgende produktfunksjon er konkav: $X(N)=N^{\alpha} \text{ der } 0<\alpha$<1.
(c) Grenseinntekten til en bedrift viser hvor mye mer bedriften kan produsere dersom inntekten stiger med 1 krone.
(d) Anta Mona sin MSB = 4. Det betyr at Mona er villig til å gi bort 4 enheter av gode 2 for én ekstra enhet av gode 1.

II: Forklar følgende begreper: 

(a) Nyttefunksjon
(b) Grensenytte
(c) Marginal substitusjonsbrøk (MSB)
(d) Nash-likevekt
(e) For konsumenten, sammenhengen mellom den marginale betalingsviligheten (MBV) og betalingsvilligheten (BV)
(f) For bedriften, sammenhengen mellom den marginale grensekostnaden (GK) og de variable kostnadene (VK)

III. Ta utgangspunkt i en fallende etterspørselskurve i et pris-mengde diagram.

(a) Vis hvordan etterspørselskurven påvirkes av økt inntekt blant konsumentene dersom
godet er normalt, og mindreverdig.
(b) Vis hvordan etterspørselskurven påvirkes av økt pris på en alternativ vare.
(c) Vil elastisiteten påvirke svarene dine fra oppgave (a) og (b)?

# Oppgave 2 Produsentteori

Produsenten NEON skal etablere seg i markedet for smarttelefoner. Bedriften har en gitt
kostnadsramme (budsjettbetingelse), og har som mål å produsere så mange telefoner som
mulig. Innsatsfaktorene består av arbeidskraft (N) og realkapital (K). Prisen på arbeidskraft er
gitt ved w, mens prisen på realkapital er gitt ved r.

(a) Formuler NEON sin isokost (kostnadslinje) og vis denne grafisk.
(b) Hva menes med en isokvant?
(c) Økonomisk teori tilsier at NEON skal tilpasse seg slik at MTSB er lik
faktorprisforholdet. Forklar hva som menes med dette, og hvorfor denne tilpasningen
møter bedriften sitt mål.
(d) Anta at produktfunksjonen er gitt ved:
\begin{equation}
x = N^{0,5}+K^{0,5}
\end{equation}
Regn ut MTSB for denne produktfunksjonen.
(e) Regn ut faktoretterspørselsfunksjonene for arbeidskraft og realkapital (hint: kan løses som et profittmaksimeringsproblem)
(f) Hvor mye blir etterspurt av arbeidskraft og realkapital dersom ~~C=120~~
$p=120$, $r=10$ og $w=2$?

# Oppgave 3 Konsumentteori
Anta en konsument med følgende nyttefunksjon:
\begin{equation}
U(x_{1}, x_{2}) = 7x_{1}x_{2}
\end{equation}

Konsumentens budsjettbetingelse er gitt ved $p_{1}x_{1} + p_{2}x_{2} = R$, der $R = 600$,
$p_{1} = 2$ og $p_{2} = 4$.

(a) Finn optimalt konsum av de to godene.
(b) Anta at prisen på gode 1 øker til 3. Hva blir etterspørselen etter gode 1 nå?
(c) Regn ut egenpriselastisiteten basert på %-vis endring i etterspørsel og pris. Kategoriser
elastisiteten.

# Oppgave 4 Markedsteori
Anta at markedet for bensin er kjennetegnet ved fullkommen konkurranse.
(a) Forklar kort helningen på tilbudskurven og etterspørselskurven, og vis likevekten i et
diagram.
(b) Anta at tilbud og etterspørsel er gitt ved henholdsvis:
\begin{equation}
X^{S}=-4+\frac{1}{8}P \text{ og } X^{D}=126-\frac{1}{2}P
\end{equation}
Regn ut likevektspris og mengde.
# Installing libraries
rm(list=ls())
library(ggplot2)
library(dplyr)
library(SFB30820Finansteori)
ls("package:SFB30820Finansteori")
# Reading the data
crypto_df <- list.files(path="csv",pattern = "*.csv")[c(1,2,4)] %>% purrr::map_df(~readr::read_delim(paste0("csv/",.)))
names(crypto_df) <- c("typeindex","date","close","open","high","low") 
stocko_df <- list.files(path="csv",pattern = "*.csv")[c(3)] %>% purrr::map_df(~readr::read_delim(paste0("csv/",.))) %>% dplyr::select(c(-6,-7)) %>% dplyr::mutate(typeindex='NSE') %>%
	dplyr::relocate(typeindex,1)
names(stocko_df) <- c("typeindex","date","open","high","low","close") 
# [1] "currency" "date"     "close"    "open"    
# [5] "high"     "low"     
View(crypto_df)
View(stocko_df)
# Genereal transformation
unique(crypto_df$currency)


# [1] "BTC" "ETH" "XRP"
gensh_df <- bind_rows(dplyr::select(crypto_df,date,typeindex,close), dplyr::select(stocko_df,date,typeindex,close)) %>% 
	dplyr::group_by(typeindex) %>% 
	dplyr::mutate(mdate=min(date)) %>%
	dplyr::mutate(rp=(close-dplyr::lag(close))/close) %>%
	dplyr::mutate(varp=var(rp,na.rm=T))%>%
	dplyr::mutate(stdp=varp^(1/2)) %>%
	dplyr::mutate(mean=mean(close)) %>%
	dplyr::ungroup() 

# Tasks
## Sheet 1: Individuelt
### 1. Finn tidsintervall
### 2. Finn forventet verdi
### 3. Finn varians og standardavvik
### 4. Avkastning i prosent
### 5. Tidserieplot over utviklingen i avkastningen 
gensh_df_1 <- gensh_df %>% dplyr::filter(typeindex=)
ggplot2::ggplot(gensh_df_1, aes(x=date,y=rp, color=typeindex)) + geom_point()

## Sheet 2: Samlet
gensh_df_2 <- dplyr::filter(gensh_df, date>=max(mdate)) %>% 
	dplyr::select(typeindex,date,rp) %>%
	tidyr::pivot_wider(names_from=typeindex, values_from=rp) %>%
	tidyr::drop_na()

ggplot2::ggplot(gensh_df_2, aes(x=BTC,y=ETH)) + geom_point()+geom_smooth(method="lm", se=TRUE, fullrange=FALSE, level=0.95)
ggplot2::ggplot(gensh_df_2, aes(x=BTC,y=XRP)) + geom_point()
ggplot2::ggplot(gensh_df_2, aes(x=XRP,y=ETH)) + geom_point()
ggplot2::ggplot(gensh_df_2, aes(x=BTC,y=NSE)) + geom_point()

cor(gensh_df_2$BTC,gensh_df_2$ETH)
cor(gensh_df_2$BTC,gensh_df_2$NSE)
cor(gensh_df_2$BTC,gensh_df_2$XRP)
cor(gensh_df_2$XRP,gensh_df_2$ETH)


### 1. Finn Kovarians

## Sheet 3: Enkelt porteføljer 

## Sheet 4: Samlet porteføljer

## Sheet 5: Med markedsindeks (New York)

## Appendiks
#https://www.quantshare.com/sa-620-10-new-ways-to-download-historical-stock-quotes-for-free
#
## Explain differences between expected and realised values
#install.packages("foreign")
#library(foreign)
#ls("package:foreign")
#nyse <- read.dta("https://query1.finance.yahoo.com/v7/finance/download/%5ENYA?period1=1472774400&period2=1630540800&interval=1d&events=history&includeAdjustedClose=true")
#View(nyse)
